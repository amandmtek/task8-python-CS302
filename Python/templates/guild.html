<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ö–æ–Ω—Ç—Ä–∞–∫—Ç –ì–∏–ª—å–¥–∏–∏: {{ quest.title }}</title>
    
    <style>
        /* –®—Ä–∏—Ñ—Ç */
        @font-face {
            font-family: 'Uncial Antiqua';
            src: url('../assets/fonts/Uncial_Antiqua.ttf') format('truetype'); 
        }

        /* ------------------------------------------- */
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –≤–∏–¥) */
        /* ------------------------------------------- */
        body {
            font-family: 'Uncial Antiqua', serif;
            color: #333333; /* –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π */
            background-color: #f0f4f7; /* –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω (–±—É–º–∞–≥–∞) */
            padding: 50px;
        }

        .document-frame {
            width: 100%;
            height: 100%;
            border: 5px double #AA8638; /* –ó–æ–ª–æ—Ç–∞—è –¥–≤–æ–π–Ω–∞—è —Ä–∞–º–∫–∞ */
            background-color: #ffffff; /* –ë–µ–ª–∞—è –±—É–º–∞–≥–∞ –≤–Ω—É—Ç—Ä–∏ */
            padding: 30px;
        }

        h1 {
            text-align: center;
            color: #1a237e; /* –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π */
            font-size: 28pt;
            border-bottom: 3px solid #1a237e;
            padding-bottom: 10px;
            margin-bottom: 25px;
        }

        h2 {
            color: #1a237e;
            font-size: 16pt;
            margin-top: 25px;
        }

        .details-grid {
            display: table; /* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —á–∏—Å—Ç–æ–π —Å–µ—Ç–∫–∏ */
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 11pt;
        }

        .details-row {
            display: table-row;
        }

        .details-label, .details-value {
            display: table-cell;
            padding: 5px 15px;
            border-bottom: 1px dashed #cccccc;
        }
        
        .details-label {
            font-weight: bold;
            width: 30%;
            color: #555;
        }

        .description {
            padding: 15px;
            border: 1px solid #1a237e;
            line-height: 1.6;
            min-height: 150px;
            background-color: #f7f9fb;
            white-space: pre-wrap;
        }

        .qr-code {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 80px;
            height: 80px;
        }

        .signature {
            margin-top: 50px;
            text-align: right;
            border-top: 1px solid #333;
            width: 50%;
            float: right;
            padding-top: 5px;
            font-size: 10pt;
        }
    </style>
</head>
<body>
    <div class="document-frame">
        <img class="qr-code" src="data:image/png;base64,{{ qr_code }}" alt="QR Code">
        
        <h1>–û–§–ò–¶–ò–ê–õ–¨–ù–´–ô –ö–û–ù–¢–†–ê–ö–¢ –ì–ò–õ–¨–î–ò–ò</h1>
        
        <div class="details-grid">
            <div class="details-row">
                <span class="details-label">ID –ö–æ–Ω—Ç—Ä–∞–∫—Ç–∞:</span>
                <span class="details-value">#{{ quest.id }}</span>
            </div>
            <div class="details-row">
                <span class="details-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ó–∞–¥–∞–Ω–∏—è:</span>
                <span class="details-value">{{ quest.title }}</span>
            </div>
            <div class="details-row">
                <span class="details-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å (–û—Ü–µ–Ω–∫–∞):</span>
                <span class="details-value" style="color: #c62828;">{{ quest.difficulty }}</span>
            </div>
            <div class="details-row">
                <span class="details-label">–ù–∞–≥—Ä–∞–¥–∞ (–ó–æ–ª–æ—Ç–æ):</span>
                <span class="details-value">{{ quest.reward }} G</span>
            </div>
            <div class="details-row">
                <span class="details-label">–î–∞—Ç–∞ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:</span>
                <span class="details-value">{{ current_date }}</span>
            </div>
            <div class="details-row">
                <span class="details-label">–î–µ–¥–ª–∞–π–Ω:</span>
                <span class="details-value">{{ quest.deadline | default('–ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω') }}</span>
            </div>
        </div>

        <h2>üìú –ü–æ–¥—Ä–æ–±–Ω–æ–µ –û–ø–∏—Å–∞–Ω–∏–µ</h2>
        <div class="description">
            {{ quest.description | default('–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –°–µ–∫—Ä–µ—Ç–∞—Ä—é –ì–∏–ª—å–¥–∏–∏.') }}
        </div>
        
        <div class="signature">
            <p>–ü–µ—á–∞—Ç—å –∏ –ü–æ–¥–ø–∏—Å—å –ú–∞—Å—Ç–µ—Ä–∞ –ì–∏–ª—å–¥–∏–∏</p>
        </div>
    </div>
</body>
</html>